<!DOCTYPE html>
<html lang="en">
<head>
  <title>Mobify.js - 让你的图片响应式设计更加智能</title>
  <meta charset="utf-8">
<meta name="description" content="Mobify.js - 让你的图片响应式设计更加智能"><meta name="author" content="krissy">  <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
  <link href="./theme/css/screen.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <link href="./" type="application/atom+xml" rel="alternate" title="Krissy's Blog ATOM Feed" />
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
    <div class="logo"><a href=".">Krissy's Blog</a></div>
    <div class="small"></div>
<div class="nav">
<ul>
</ul>
</div>
</div>    <div id="main">
<h2><a href="./mobify-js.html">Mobify.js - 让你的图片响应式设计更加智能</a></h2>
<h5><i class="icon-feather"></i> 周日 03 十月 2010 </h5>
<p>随着响应式设计的发展，各种设备应运而生，用户对响应式Web设计的需求日益剧增。各类网站也开始渐渐的跟上响应式Web设计的节奏了。当然，响应式Web设计无疑加大了视觉设计和前端的工程量，所以这也是让无数前端工程师头疼的事情。平均页面的大小也从1M上涨至1.5M了，而网页中大量图片的使用无疑成了最主要的原因之一。</p>
<p>如果图片能够基于设备尺寸，分辨率以及图片格式做一定的优化，那么页面是可以被很好的缩小占用空间的。一旦我们做出这样的优化，肯定能提升网页加载速度，也就能更好的为用户服务。但目前问题的关键并非是如何为不同的设备做图片优化，而是我们该怎样去实现这个功能。</p>
<p>比较理想的情况是，我们可以继续使用&lt;img&gt;标签，让浏览器通过对设备的识别去下载适用于该设备和布局的图片，但目前却没有这样的功能存在，唯一可以做到类似效果的就是通过JS更改&lt;img&gt;标签的&lt;src&gt;属性来实现，但是浏览器的预解析功能又使得这个变得不可能了。</p>
<p>W3C图片响应式设计社区引进了一个新的HTML标签 - &lt;picture&gt;标签，但目前各大浏览器都未能很好的集成该功能。&lt;picture&gt;标签的使用主要是能处理基于各种设备下载对应尺寸的图片的问题。任何东西有利也有弊，&lt;picture&gt;标签带来的最大麻烦就是，针对每一个breakpoint,开发者都必须生成一个对应的尺寸大小的图片。而实际上，我们需要一种更智能的做法 - 那就是，针对不同的设备，我们都只需要一张高像素的图片，而有个功能就是只需要针对不同的设备生成对应的尺寸大小的图片。我们期望的是能有种解决方案做到当用户使用不同的设备浏览网页时，只会下载与该设备对应的图片，并做到100%的语义和逆向兼容，而我们所提供的图片响应式API - Mobify.js能够实现这样的功能。</p>
<p>&lt;picture&gt;元素即将成为最好的选择
&lt;picture&gt;是目前能最友好的替代&lt;img&gt;标签的选择。开发者可以指定在不同的设备上展示对应分辨率的图片（尽管最新的srcN更加好），采用&lt;picture&gt;标签需要定义breakpoints,为每个指定的breakpoint生成一个图片资源，然后通过标记语言进行标记，接下来让我们看看用&lt;picture&gt;标签如何实现图片的响应式设计：</p>
<p>我们的几个基点像素分别是：320,512,1024,2048</p>
<p>首先，我们需要针对所定义的基点生成对应分辨率的几张图片，当然这个生成方法相对比较简单，可以采用（CLI）或者pohotshop的保存为Web所需要的格式。接下来，我们会用到如下代码：</p>
<div class="highlight"><pre><span class="nt">&lt;picture&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;responsive-obama-320.png&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;responsive-obama-512.png&quot;</span><span class="na">media=</span><span class="s">&quot;(min-width: 512px)&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;responsive-obama-1024.png&quot;</span> <span class="na">media=</span><span class="s">&quot;(min-width: 1024px)&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">&quot;responsive-obama-2048.png&quot;</span> <span class="na">media=</span><span class="s">&quot;(min-width: 2048px)&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;noscript&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;responsive-obama-320.png&quot;</span> <span class="nt">/&gt;&lt;/noscript&gt;</span>
<span class="nt">&lt;/picture&gt;</span>
</pre></div>
<p>以上代码有个缺点就是：无法为移动设备做优化，你可以看见当我们把原图按照比例缩小至320像素宽度的时候，如下图所示，让我们看清照片中的人物已经不太可能了。</p>

<h5><i class="icon-user"></i> <a href="./author/krissy.html">krissy</a>,
<i class="icon-bookmarks"></i> <span><a href="./tag/mobify.html">Mobify</a> / </span>
<span><a href="./tag/responsive.html">Responsive</a> / </span>
</h5>
<p align="center"><a href="#">on the top</a></p>
    </div>
</div>
<div id="footer-wrapper">
<ul class="footer">
     <li class="footer"><a href="./tag/mobify.html">Mobify&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="./tag/responsive.html">Responsive</a></li>
</ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2011&mdash;&nbsp;::</li>
    <li class="footer"><a href=".">Krissy's Blog </a>&nbsp;::</li>
    <li class="footer">powered by <a href="https://github.com/getpelican">pelican</a>&nbsp;::</li>
    <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39445896-1', '');
  ga('send', 'pageview');

</script>
</body>
</html>